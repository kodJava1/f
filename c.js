!function(){if(console.log("Script başlatıldı (Site 2)"),window.goalCancellationMonitorActive_Site2)return void console.log("Script zaten çalışıyor (Site 2)");function e(){if(window.performance&&window.performance.memory){const e=window.performance.memory;return`${Math.round(e.usedJSHeapSize/1048576)} MB`}return"Bellek bilgisi alınamadı"}function t(t){const n=e();t&&(t.textContent=`Bellek: ${n}`);let o=document.title.split(" | ")[0];o&&!o.includes("Bellek:")||(o="Live Matches"),document.title=`${o} | Bellek: ${n}`}window.goalCancellationMonitorActive_Site2=!0;const n=10;var o=new Audio("https://livedataclient.betradar.com/sounds/goal_deleted.mp3");o.onerror=function(){console.error("Ses dosyası yüklenemedi veya çalınamadı:",o.src)};const a=function(){console.log("Tablo oluşturuluyor (Site 2)");const n=document.getElementById("goalCancellationTable_Site2");if(n)return console.log("Tablo zaten var (Site 2)"),n.querySelector("#goalCancellationTableBody_Site2");const o="tableStyle_Site2";let a=document.getElementById(o);a||(a=document.createElement("style"),a.id=o,a.textContent="\n                #goalCancellationTable_Site2 {\n                  position: fixed;\n                  top: 2vh; /* Biraz daha aşağıda başlasın */\n                  right: 2vw;\n                  z-index: 9999;\n                  background: #fff;\n                  border: 0.2vw solid #C0392B; /* Kırmızı tonu */\n                  padding: 1vw;\n                  width: 28vw; /* Biraz daha geniş */\n                  max-height: 45vh; /* Biraz daha yüksek */\n                  overflow: auto;\n                  box-shadow: 0 0 1vw rgba(0, 0, 0, 0.5);\n                  font-size: 1.0vw; /* Yazı boyutunu biraz küçült */\n                  border-radius: 0.5vw;\n                  resize: both;\n                  overflow: auto; /* Hem resize hem scroll için */\n                  color: #333; /* Genel yazı rengi */\n                }\n\n                #goalCancellationHeader_Site2 {\n                  padding: 0.5vw;\n                  margin-bottom: 1vh;\n                  background: #f0f0f0;\n                  border-radius: 0.3vw;\n                  cursor: move;\n                  text-align: center;\n                  color: #C0392B; /* Başlık rengi */\n                  font-weight: bold;\n                  font-size: 1.1vw; /* Başlık yazı boyutu */\n                  display: flex; /* Başlık ve bellek için flex */\n                  justify-content: space-between; /* Başlık sola, bellek sağa */\n                  align-items: center;\n                  user-select: none;\n                  border-bottom: 1px solid #ccc;\n                }\n\n                 #goalCancellationHeader_Site2 span {\n                    flex-grow: 1; /* Başlık metni alanı kaplasın */\n                    text-align: center; /* Başlık metnini ortala */\n                    margin-left: 20px; /* Bellek için yer aç */\n                 }\n\n\n                #memoryInfo_Site2 {\n                    font-size: 0.8vw;\n                    color: #666;\n                    white-space: nowrap; /* Tek satırda kalmasını sağla */\n                }\n\n\n                #goalCancellationTable_Site2 .resizer {\n                  width: 1vw;\n                  height: 1vw;\n                  background: #C0392B; /* Kırmızı tonu */\n                  position: absolute;\n                  right: 0;\n                  bottom: 0;\n                  cursor: nwse-resize;\n                }\n\n                #goalCancellationTable_Site2 table {\n                  width: 100%;\n                  border-collapse: collapse;\n                }\n\n                #goalCancellationTable_Site2 th, #goalCancellationTable_Site2 td {\n                  border: 1px solid #ccc;\n                  padding: 0.4vw; /* Hücre içi boşluk */\n                  text-align: center;\n                  font-size: 0.9vw; /* Tablo içi yazı boyutu */\n                }\n                 #goalCancellationTable_Site2 th {\n                    background-color: #f8f8f8; /* Başlık satırı arkaplanı */\n                    font-weight: bold;\n                 }\n            ",document.head.appendChild(a));const l=document.createElement("div");l.id="goalCancellationTable_Site2";const i=document.createElement("div");i.id="goalCancellationHeader_Site2";const r=document.createElement("span");r.textContent="Gol Geri Alma";const s=document.createElement("div");s.id="memoryInfo_Site2",s.textContent=`Bellek: ${e()}`,i.appendChild(r),i.appendChild(s),setInterval((()=>t(s)),5e3);const c=document.createElement("div");c.innerHTML='\n            <table>\n              <thead>\n                <tr>\n                  <th>Zaman</th>\n                  <th>Ev Sahibi</th>\n                  <th>Deplasman</th>\n                  <th>Önceki</th>\n                  <th>Yeni Skor</th>\n                </tr>\n              </thead>\n              <tbody id="goalCancellationTableBody_Site2">\n              </tbody>\n            </table>\n        ';const d=document.createElement("div");d.className="resizer",l.appendChild(i),l.appendChild(c),l.appendChild(d),document.body.appendChild(l);let m,u,y=!1;function g(e){y=!0,l.style.transition="none";const t="touchstart"===e.type?e.touches[0]:e,n=l.getBoundingClientRect();m=t.clientX-n.left,u=t.clientY-n.top,l.style.opacity="0.8",i.style.cursor="grabbing",e.preventDefault()}function f(e){if(!y)return;e.preventDefault();const t="touchmove"===e.type?e.touches[0]:e;let n=t.clientX-m,o=t.clientY-u;const a=window.innerWidth-l.offsetWidth,i=window.innerHeight-l.offsetHeight;n=Math.max(0,n),o=Math.max(0,o),n=Math.min(n,a),o=Math.min(o,i),l.style.left=n+"px",l.style.top=o+"px",l.style.right="auto",l.style.bottom="auto"}function h(){y&&(y=!1,l.style.opacity="1",i.style.cursor="move",l.style.transition="")}return i.addEventListener("mousedown",g),document.addEventListener("mousemove",f),document.addEventListener("mouseup",h),i.addEventListener("touchstart",g,{passive:!1}),document.addEventListener("touchmove",f,{passive:!1}),document.addEventListener("touchend",h),console.log("Tablo oluşturuldu ve sürüklenebilir (Site 2)"),document.getElementById("goalCancellationTableBody_Site2")}();let l={},i={},r={};setTimeout((function(){console.log("İlk tarama yapılıyor..."),document.querySelectorAll(".livemattts").forEach((e=>{const t=e.id;if(!t)return;const n=e.querySelector(".teams");if(n){const e=n.textContent.trim(),o=e.split(" : ");2===o.length?i[t]={team1:o[0].trim(),team2:o[1].trim()}:(i[t]={team1:e,team2:"Bilinmiyor"},console.warn(`Takım isimleri ayrılamadı: ${e} (ID: ${t})`))}else i[t]={team1:"Bilinmiyor",team2:"Bilinmiyor"},console.warn(`Takım ismi elementi bulunamadı (ID: ${t})`);if("not_started"!==e.getAttribute("matchstatus")){const n=e.querySelector(".live-goal");if(n){const e=n.textContent.trim(),o=e.split(":").map(Number);2!==o.length||isNaN(o[0])||isNaN(o[1])?console.warn(`Geçersiz skor formatı: ${e} (ID: ${t})`):(l[t]=o,console.log(`İlk skor kaydedildi: ${t} -> ${e}`))}else console.warn(`.live-goal elementi bulunamadı (ID: ${t})`)}const o=e.getAttribute("matchstatus");o&&(r[t]=o)})),console.log("İlk tarama tamamlandı.")}),1e3),setInterval((function(){document.querySelectorAll(".livemattts").forEach((e=>{const t=e.id,s=e.getAttribute("sport"),c=e.getAttribute("matchstatus");if(!t||"not_started"===c)return;const d=e.querySelector(".teams");if(d){const e=d.textContent.trim(),n=e.split(" : ");2===n.length?i[t]&&i[t].team1===n[0].trim()&&i[t].team2===n[1].trim()||(i[t]={team1:n[0].trim(),team2:n[1].trim()}):i[t]||(i[t]={team1:e,team2:"Bilinmiyor"})}else i[t]||(i[t]={team1:"Bilinmiyor",team2:"Bilinmiyor"});const m=e.querySelector(".live-goal");if(m){const e=m.textContent.trim(),d=e.split(":").map(Number);if(2===d.length&&!isNaN(d[0])&&!isNaN(d[1])){const m=l[t];if(m){const r=`${m[0]}:${m[1]}`;if(e!==r){if("1"===s){const l=d[0]<m[0],s=d[1]<m[1];if(l||s){console.warn(`GOL İPTAL/SİLME TESPİT EDİLDİ! ID: ${t}, Eski Skor: ${r}, Yeni Skor: ${e}`);try{o.play().catch((e=>console.error("Ses çalma hatası:",e)))}catch(e){console.error("Ses çalma sırasında genel hata:",e)}const l=i[t]||{team1:"Bilinmeyen",team2:"Bilinmeyen"};!function(e,t,n){const o=document.getElementById("goalCancellationNotification_Site2");o&&o.parentNode.removeChild(o);const a=document.createElement("div");a.id="goalCancellationNotification_Site2",a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.background="rgba(255, 0, 0, 0.9)",a.style.color="white",a.style.padding="1vw",a.style.zIndex="10000",a.style.fontSize="2vw",a.style.fontWeight="bold",a.style.textAlign="center",a.style.boxShadow="0 0 2vw rgba(0, 0, 0, 0.5)",a.style.animation="fadeInOut_Site2 10s forwards",a.innerHTML=`\n            <div>⚠️ GOL İPTAL / SİLİNDİ! ⚠️</div>\n            <div style="font-size:1.5vw; margin-top:0.5vw;">${e}</div>\n            <div style="font-size:1.5vw; margin-top:0.5vw;">${t} → ${n}</div>\n        `;const l="fadeInOutStyle_Site2";let i=document.getElementById(l);i||(i=document.createElement("style"),i.id=l,i.textContent="\n                @keyframes fadeInOut_Site2 {\n                  0% { opacity: 0; transform: translateY(-100%); }\n                  10% { opacity: 1; transform: translateY(0); }\n                  90% { opacity: 1; transform: translateY(0); }\n                  100% { opacity: 0; transform: translateY(-100%); }\n                }\n            ",document.head.appendChild(i)),document.body.appendChild(a),setTimeout((()=>{a&&a.parentNode&&a.parentNode.removeChild(a)}),1e4)}(`${l.team1} - ${l.team2}`,r,e),function(e,t,o,l){if(!a)return void console.error("Tablo body elementi bulunamadı!");const i=a.querySelectorAll("tr");i.length>=n&&a.removeChild(i[0]);const r=new Date,s=`${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}:${String(r.getSeconds()).padStart(2,"0")}`,c=document.createElement("tr");c.style.backgroundColor="#ffebee",c.innerHTML=`\n          <td>${s}</td>\n          <td>${o||"Bilinmeyen"}</td>\n          <td>${l||"Bilinmeyen"}</td>\n          <td>${e}</td>\n          <td style="color:red; font-weight:bold;">${t}</td>\n        `,a.appendChild(c),setTimeout((()=>{c.style.backgroundColor=""}),5e3)}(r,e,l.team1,l.team2)}}l[t]=d}}else l[t]=d;if("2"===s&&c&&r[t]&&c!==r[t]){if("1q"===c&&("pause2"===r[t]||"2q"===r[t])||"2q"===c&&("pause3"===r[t]||"3q"===r[t])||"3q"===c&&("pause4"===r[t]||"4q"===r[t])){console.warn(`PERİYOT DEĞİŞTİ (Muhtemel İptal?): ID: ${t}, Skor: ${e}, Eski Durum: ${r[t]}, Yeni Durum: ${c}`);try{o.play().catch((e=>console.error("Ses çalma hatası (periyot):",e)))}catch(e){console.error("Ses çalma sırasında genel hata (periyot):",e)}}}}}c&&(r[t]=c)}))}),1e3),setTimeout((function(){setInterval((function(){try{var e=document.evaluate('//*[@id="btnSortCategory"]',document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;e&&"function"==typeof e.click?(console.log("Sıralama butonuna tıklandı."),e.click()):console.warn("Sıralama butonu bulunamadı veya tıklanamadı.")}catch(e){console.error("Butona tıklama sırasında hata:",e)}}),2e5)}),5e3),setInterval((function(){console.log("Sayfa periyodik olarak yenileniyor..."),window.location.reload()}),18e5),setInterval((()=>{t(document.getElementById("memoryInfo_Site2"))}),5e3),console.log("Script yüklendi ve çalışıyor (Site 2)")}();
